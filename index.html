<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>ChÃºc má»«ng ngÃ y 20/11</title>
<link href="style.css" rel="stylesheet" type="text/css"/>
<script src="jquery.min.js" type="text/javascript"></script>
<script src="jscex.min.js" type="text/javascript"></script>
<script src="jscex-parser.js" type="text/javascript"></script>
<script src="jscex-jit.js" type="text/javascript"></script>
<script src="jscex-builderbase.min.js" type="text/javascript"></script>
<script src="jscex-async.min.js" type="text/javascript"></script>
<script src="jscex-async-powerpack.min.js" type="text/javascript"></script>
<script charset="utf-8" src="functions.js" type="text/javascript"></script>
<script charset="utf-8" src="love.js" type="text/javascript"></script>
</head>
<body>
<div id="wrap">
<div id="text" style="font-family:'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif ;">
<div id="code"><font color="#000"><span class="say"><span class="say">                  </span><br/>
Helu bÃ© iuuuğŸ’–âœ¨
</span><br/>
<span class="say">ğŸ’ŒHÃ´m nay lÃ  ngÃ y 20/11, anh chÃºc bÃ© ngÆ°á»i con gÃ¡i anh yÃªu luÃ´n cÃ³ tháº­t nhiá»u sá»©c khá»e, niá»m vui vÃ  Ä‘áº·c biá»‡t hÆ¡n ná»¯a Ä‘Ã³ chÃ­nh lÃ  gáº·p tháº­t nhiá»u may máº¯n hÆ¡n nhÃ©ğŸ˜½ğŸ˜½.
<span class="say"><span class="space"><img alt="" height="70px" src="tym.png" width="80px"/><br/>
<span class="say"><span class="space"></span> --KÃ½ tÃªn : PÃ¬ng-- 
</span></span></font></div>
</div>
<canvas height="680" id="canvas" width="1100"></canvas>
</div>
<audio autoplay="autoplay" id="myAudio">
<source src="nhac.mp3" type="audio/mp3"/>
</audio>
<style>
@keyframes heartPulse {
  0% { transform: scale(1); filter: brightness(1); opacity: 0.8; }
  25% { transform: scale(1.25); filter: brightness(1.4); opacity: 1; }
  50% { transform: scale(1); filter: brightness(1.1); opacity: 0.9; }
  75% { transform: scale(1.25); filter: brightness(1.4); opacity: 1; }
  100% { transform: scale(1); filter: brightness(1); opacity: 0.9; }
}

.heart-pulse {
  animation: heartPulse 1.6s ease-in-out infinite;
  transform-origin: center;
  transition: all 0.3s ease-in-out;
}
</style>
<style>
@keyframes heartAppear {
  0% { transform: scale(0.5); opacity: 0; }
  60% { transform: scale(1.2); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}

.heart-appear {
  animation: heartAppear 0.8s ease-out forwards;
  transform-origin: center;
}
</style>
<style>
#code {
  transition: opacity 0.3s ease-in;
}
</style>
<style>
#code {
  transition: opacity 0.3s ease-in;
  white-space: pre-line;
}
</style>
<style>
#code {
  white-space: pre-line;
}
</style>
<style>
#code {
  white-space: pre-line;
}
</style>
<style>
#code {
  white-space: pre-line;
}
</style>
<style>
#code { white-space: pre-line; }
</style>
<style>
#code {
  white-space: pre-line;
}
</style>
<!-- Template Ä‘á»ƒ giá»¯ ná»™i dung vÄƒn báº£n gá»‘c -->
<template id="text-template"></template>
<style>
#code {
  white-space: pre-line;
}
</style>
<!-- Template lÆ°u vÄƒn báº£n gá»‘c -->
<template id="text-template"></template>

<style>
#code {
  white-space: pre-line;
  visibility: hidden;
}
</style>

<!-- Template lÆ°u vÄƒn báº£n gá»‘c -->
<template id="text-template"></template>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const codeElement = document.querySelector("#code");
  const template = document.querySelector("#text-template");
  template.innerHTML = codeElement.innerHTML.trim();

  // áº¨n táº¡m vÄƒn báº£n (khÃ´ng xÃ³a)
  codeElement.style.visibility = "hidden";

  const loveHeart = document.getElementById("loveHeart");

  // Náº¿u hiá»‡u á»©ng khÃ´ng hoÃ n thÃ nh trong 15s, tá»± in
  let safetyTimer = setTimeout(() => {
    console.warn("Timeout: Báº¯t Ä‘áº§u in vÃ¬ loveHeart khÃ´ng di chuyá»ƒn sau 15s");
    startTyping();
  }, 15000);

  function waitUntilMoved() {
    if (!loveHeart) {
      setTimeout(waitUntilMoved, 300);
      return;
    }

    const left = parseInt(window.getComputedStyle(loveHeart).left);

    // Khi #loveHeart Ä‘Ã£ di chuyá»ƒn sang bÃªn trÃ¡i hoÃ n toÃ n
    if (left < 300) {
      clearTimeout(safetyTimer);
      startTyping();
    } else {
      setTimeout(waitUntilMoved, 300);
    }
  }

  function startTyping() {
    const originalHTML = template.innerHTML;
    const typingSpeed = 60;
    let index = 0;
    let isTag = false;

    codeElement.style.visibility = "visible";
    codeElement.innerHTML = ""; // XÃ³a khi báº¯t Ä‘áº§u gÃµ

    function type() {
      const text = originalHTML.slice(0, ++index);
      codeElement.innerHTML = text;

      if (text.charAt(index - 1) === "<") isTag = true;
      if (text.charAt(index - 1) === ">") isTag = false;

      if (index < originalHTML.length) {
        setTimeout(type, isTag ? 0 : typingSpeed);
      }
    }

    type();
  }

  // Báº¯t Ä‘áº§u theo dÃµi vá»‹ trÃ­ cá»§a cÃ¢y trÃ¡i tim
  waitUntilMoved();
});
</script>
<style>
#code {
  white-space: pre-line;
  visibility: hidden;
}
</style>
</body>
<script src="script.js"></script>
</html>